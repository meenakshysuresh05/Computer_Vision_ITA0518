import cv2
import os

image_path = r"C:\Users\menak\Downloads\image\messi.jpg"

if not os.path.exists(image_path):
    raise FileNotFoundError(f"Image not found at path: {image_path}")

image = cv2.imread(image_path)

if image is None:
    raise ValueError(f"Failed to load image. File may be corrupted or in an unsupported format: {image_path}")

gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
edges = cv2.Canny(gray, 100, 200)

output_path = r"C:\Users\menak\Downloads\edges_output.jpg"
cv2.imwrite(output_path, edges)
print(f"Edge-detected image saved to: {output_path}")

cv2.imshow("Original Image", image)
cv2.imshow("Edge Detection (Canny)", edges)
cv2.waitKey(0)
cv2.destroyAllWindows()

print("Canny edge detection completed successfully!")